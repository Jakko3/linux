# SPDX-License-Identifier: (GPL-2.0 OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/mfd/richtek,rt5033.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Richtek RT5033 Power Management Integrated Circuit

maintainers:
  - Jakob Hauser <jahau@rocketmail.com>

description: |
  RT5033 is a multifunction device which includes battery charger, fuel gauge,
  flash LED current source, LDO and synchronous Buck converter for portable
  applications. It is interfaced to host controller using I2C interface. The
  battery fuel gauge uses a separate I2C bus.

properties:
  compatible:
    const: richtek,rt5033

  reg:
    maxItems: 1

  interrupts:
    maxItems: 1

  regulators:
    type: object
    $ref: /schemas/regulator/richtek,rt5033-regulator.yaml#

  charger:
    type: object
    $ref: /schemas/power/supply/richtek,rt5033-charger.yaml#

required:
  - compatible
  - reg
  - interrupts

additionalProperties: false

examples:
  - |
    #include <dt-bindings/interrupt-controller/irq.h>

    i2c@0 {
        #address-cells = <1>;
        #size-cells = <0>;

        pmic@34 {
            compatible = "richtek,rt5033";
            reg = <0x34>;

            interrupt-parent = <&msmgpio>;
            interrupts = <62 IRQ_TYPE_EDGE_FALLING>;

            pinctrl-names = "default";
            pinctrl-0 = <&pmic_int_default>;

            regulators {
                safe_ldo_reg: SAFE_LDO {
                    regulator-name = "SAFE_LDO";
                    regulator-min-microvolt = <4900000>;
                    regulator-max-microvolt = <4900000>;
                    regulator-always-on;
                };
                ldo_reg: LDO {
                    regulator-name = "LDO";
                    regulator-min-microvolt = <2800000>;
                    regulator-max-microvolt = <2800000>;
                };
                buck_reg: BUCK {
                    regulator-name = "BUCK";
                    regulator-min-microvolt = <1200000>;
                    regulator-max-microvolt = <1200000>;
                };
            };

            charger {
                compatible = "richtek,rt5033-charger";
                richtek,pre-uamp = <450000>;
                richtek,fast-uamp = <1000000>;
                richtek,eoc-uamp = <150000>;
                richtek,pre-threshold-uvolt = <3500000>;
                richtek,const-uvolt = <4350000>;
                extcon = <&muic>;
            };
        };
    };

    i2c@1 {
        #address-cells = <1>;
        #size-cells = <0>;

        battery@35 {
            compatible = "richtek,rt5033-battery";
            reg = <0x35>;
            interrupt-parent = <&msmgpio>;
            interrupts = <121 IRQ_TYPE_EDGE_FALLING>;
        };
    };
